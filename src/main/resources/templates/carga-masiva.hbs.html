<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="/css/estilos.css">
      <link rel="stylesheet" href="/css/listados.css">
      <title>carga-masiva.html</title>
  </head>
  
  <body>
    <div id="page-content">
      <h2 style="text-align: center;">Monitoreo de Estado de Servicios de Transporte Público y de Establecimientos</h2>
      <div class="center-content">
        <div style="display: flex; flex-direction: column; align-items: center;">
          <h4 style="text-align: center;">Carga masiva de Entidades Prestadoras y Organismos de Control</h4>
          <div class="panel" style="min-width: 400px; max-width: 400px;">
            <h4 style="text-align: center; margin-top: 0px;">
            Cargar {{#if prestadora}}Entidades Prestadoras{{/if}}{{#if reguladora}}Organismos de Control{{/if}}
            </h4>
            <div style="display: flex; align-items: center;">
              <form style="width: 100%" method="post" enctype="multipart/form-data">
                <input type="file" name="uploaded_file" accept=".csv">
                <div style="margin-top: 10px"></div>
                {{#if error_descripcion}}
                <label class="error-label">ERROR: {{error_descripcion}}</label>
                {{/if}}
                <div style="margin-bottom: 10px"></div>

                <button class="btn">Cargar</button>
              </form>
            </div>
          </div>

          <div class="panel" style="margin-top: 10px; min-width: 130%; max-width: 130%; max-height: 400px;">
            <h3 style="margin-top: 0px; text-align: center;">
            Listado de {{#if prestadora}}Entidades Prestadoras{{/if}}{{#if reguladora}}Organismos de Control{{/if}}
            </h3>
            <div style="width: 100%; overflow-y: scroll; max-height: 200px;">
              <table>
                <thead>
                  <tr class="table-h-row">
                    {{#if prestadora}}
                    <th class="table-h" style="width: 35%;"> <span>Nombre</span> </th>
                    <th class="table-h" style="width: 30%;"> <span>Rubro</span> </th>
                    <th class="table-h" style="width: 30%;"> <span>País de Origen</span> </th>
                    {{/if}}
                    {{#if reguladora}}
                    <th class="table-h" style="width: 35%;"> <span>Abreviatura</span> </th>
                    <th class="table-h" style="width: 30%;"> <span>Nombre completo</span> </th>
                    {{/if}}
                    <th class="table-h" style="width: 5%;"> <span></span> </th>
                  </tr>
                </thead>
                <tbody>
                {{#if prestadora}}
                {{#each entidadesPrestadoras}}
                  <tr class="table-row">
                    <td class="text-truncate"> <span class="cell-content">{{this.getNombre}}</span> </td>
                    <td class="text-truncate"> <span class="cell-content">{{this.getRubro}}</span> </td>
                    <td class="text-truncate"> <span class="cell-content">{{this.getPais}}</span> </td>
                    <td>
                      <div class="actions-panel">
                        <a class="table-action-btn" href="/prestadora/{{this.getId}}">...</a>
                      </div>
                    </td>
                  </tr>
                {{/each}}
                {{/if}}

                {{#if reguladora}}
                {{#each organismosDeControl}}
                <tr class="table-row">
                  <td class="text-truncate"> <span class="cell-content">{{this.getAbreviatura}}</span> </td>
                  <td class="text-truncate"> <span class="cell-content">{{this.getNombreCompleto}}</span> </td>
                  <td>
                    <div class="actions-panel">
                      <a class="table-action-btn" href="/reguladora/{{this.getId}}">...</a>
                    </div>
                  </td>
                </tr>
                {{/each}}
                {{/if}}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>